<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Linear function graph</title>
</head>
<body>
    <label>y = 
        <input type="number" id="k" value="1" style="width: 50px"> x +
        <input type="number" id="q" value="0" style="width: 50px">
    </label>
    <button onclick="draw()">Redraw</button>

    <br><br>
    <canvas id="canvas" width="600" height="400" style="border:1px solid black"></canvas>

    <script>
        let canvas = document.getElementById("canvas");
        let ctx = canvas.getContext("2d");

        let width = canvas.width;
        let height = canvas.height;

        // veľkosť jednej bunky mriežky
        let step = 20;

        function drawGrid() {
            ctx.clearRect(0, 0, width, height);

            ctx.strokeStyle = "#ddd";
            ctx.lineWidth = 1;

            // vertikálne čiary
            for (let x = 0; x <= width; x += step) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, height);
                ctx.stroke();
            }

            // horizontálne čiary
            for (let y = 0; y <= height; y += step) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(width, y);
                ctx.stroke();
            }

            // os x
            ctx.strokeStyle = "black";
            ctx.beginPath();
            ctx.moveTo(0, height / 2);
            ctx.lineTo(width, height / 2);
            ctx.stroke();

            // os y
            ctx.strokeStyle = "blue";
            ctx.beginPath();
            ctx.moveTo(width / 2, 0);
            ctx.lineTo(width / 2, height);
            ctx.stroke();
        }

        function drawLine(k, q) {
            ctx.strokeStyle = "blue";
            ctx.lineWidth = 2;

            ctx.beginPath();

            // prevedieme súradnice (stred canvasu = [0,0])
            for (let x = -width/2; x < width/2; x++) {
                let y = k * x + q;

                let canvasX = width/2 + x;
                let canvasY = height/2 - y;

                if (x === -width/2) {
                    ctx.moveTo(canvasX, canvasY);
                } else {
                    ctx.lineTo(canvasX, canvasY);
                }
            }

            ctx.stroke();
        }

        function draw() {
            let k = parseFloat(document.getElementById("k").value);
            let q = parseFloat(document.getElementById("q").value);

            drawGrid();
            drawLine(k, q); 
            // *step aby sa zobrazovalo pekne podľa mriežky
        }

        // vykresli pri načítaní
        draw();
    </script>
</body>
</html>
